(this["webpackJsonpacnh-villager-search"]=this["webpackJsonpacnh-villager-search"]||[]).push([[0],{25:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),c=s(19),r=s.n(c),i=s(3),o=s.n(i),l=s(10),d=s(4),h=s(5),j=s(8),u=s(7),p=(s(25),s(0)),b=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.current.contains(e.target)&&n.setState({showOptions:!1})},n.onInputChange=function(e){var t=n.props.options,s=e.target.value;if(0==s.length)n.setState({villager:s});else{var a=s[0].toUpperCase()+s.slice(1).toLowerCase(),c=t.filter((function(e){return e.toLowerCase().indexOf(s.toLowerCase())>-1}));n.setState({villager:a,filteredOptions:c,showOptions:!0})}},n.onFormSubmit=function(e){e.preventDefault(),n.props.onFormSubmit(n.state.villager)},n.state={villager:"",filteredOptions:[],showOptions:!1},n.wrapperRef=a.a.createRef(),n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e,t=this;return this.state.showOptions&&this.state.showOptions&&this.state.villager&&this.state.filteredOptions.length&&(e=Object(p.jsx)("ul",{className:"options",children:this.state.filteredOptions.map((function(e){return Object(p.jsx)("li",{onClick:function(s){t.props.onFormSubmit(e),t.setState({showOptions:!1})},children:e},e)}))})),Object(p.jsxs)("div",{ref:this.wrapperRef,children:[Object(p.jsx)("div",{className:"input-group",children:Object(p.jsx)("form",{onClick:function(e){return t.setState({showOptions:!0})},onSubmit:this.onFormSubmit,children:Object(p.jsx)("input",{type:"text",onChange:this.onInputChange,className:"form-control mt-3",placeholder:"Search for a villager..."})})}),Object(p.jsx)("div",{className:"options-div",children:e})]})}}]),s}(a.a.Component),m=s(6),O=s.n(m),v=O.a.create({baseURL:"https://www.instafluff.tv/ACDB/Villagers"}),x=(s(45),function(e){var t=e.villager,s=e.name,n=e.notFound;return 0==n&&""!=t?Object(p.jsxs)("div",{className:"card mt-3",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)("img",{className:"round",alt:t.description,src:t.image})}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h1",{children:[" ",s," ",Object(p.jsxs)("span",{children:[Object(p.jsx)("img",{className:"icon",alt:t.description,src:t.icon})," "]})]}),Object(p.jsxs)("p",{className:"p-label",children:[" Species ",Object(p.jsx)("span",{children:t.species})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{className:"p-label",children:[" Personality Type ",Object(p.jsx)("span",{children:t.personality})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{className:"p-label",children:["Birthday ",Object(p.jsx)("span",{children:t.birthday})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{className:"p-label",children:["Saying ",Object(p.jsx)("span",{children:t.saying})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{className:"p-label",children:"Description"}),Object(p.jsxs)("p",{className:"description",children:[" ",t.description," "]})]})]}):""==t&&0==n?Object(p.jsxs)("div",{className:"card mt-3",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)("img",{className:"round",alt:"Isabelle",src:"https://www.kotaku.com.au/content/uploads/sites/3/2020/03/isabelle-animal-crossing-new-horizons.jpg"})}),Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("h1",{children:"Search for any ACNH villager!"})})]}):Object(p.jsxs)("div",{className:"card mt-3",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)("img",{className:"round",alt:"Question Mark",src:"https://pbs.twimg.com/media/EQGQAq0XsAAIPjB.jpg:large"})}),Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("h1",{children:" Uh oh! This villager was not found."})})]})}),f=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentVillager:"",name:"",notFound:!1,suggestions:[]},e.onVillagerSubmit=function(){var t=Object(l.a)(o.a.mark((function t(s){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/".concat(s,".json"));case 3:n=t.sent,console.log(n),e.setState({currentVillager:n.data,name:n.data.name["US-en"],notFound:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({notFound:!0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://acnhapi.com/v1/villagers");case 3:t=e.sent,Object.values(t.data).forEach((function(e){s.state.suggestions.push(e.name["name-USen"])})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-0 col-md-2"}),Object(p.jsxs)("div",{className:"col-12 col-md-8",children:[Object(p.jsx)(b,{options:this.state.suggestions,onFormSubmit:this.onVillagerSubmit}),Object(p.jsx)(x,{villager:this.state.currentVillager,name:this.state.name,notFound:this.state.notFound})]}),Object(p.jsx)("div",{className:"col-0 col-md-2"})]})})}}]),s}(a.a.Component);r.a.render(Object(p.jsx)(f,{}),document.querySelector("#root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.d98bf8ea.chunk.js.map